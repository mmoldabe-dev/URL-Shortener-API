# URL-Shortener-API

1. Планирование структуры проекта

    Определить структуру директорий: cmd, internal, handlers, models, db, routes, config, docs.

    Решить, будет ли поддержка пользователей и JWT (если да — добавить auth).

2. Настройка окружения

    Инициализировать Go-модуль (go mod init).

    Установить зависимости (gorilla/mux, pq или sqlite, godotenv, Swagger, JWT при необходимости).

    Создать .env файл с переменными (DB URL, порт сервера, и т.д.).

    Реализовать загрузку конфигурации из .env.

3. Настройка базы данных

    Создать миграцию или SQL-файл для таблицы URL:

        id, short_code, original_url, created_at, ttl_seconds.

    Реализовать подключение к базе (PostgreSQL или SQLite).

    Добавить функцию автоматического удаления просроченных записей (опционально через cron/goroutine).

4. Генерация коротких ссылок

    Реализовать алгоритм генерации уникального short_code:

        UUID + хеш/база62, или инкрементный счетчик + хеш.

    Проверять уникальность кода перед сохранением.

5. API-эндпоинты

    POST /shorten — принимает длинный URL (+ опционально TTL), возвращает короткий.

    GET /{short_code} — редиректит на оригинальный URL (или 404/410, если истек TTL).

    (Опционально) GET /info/{short_code} — возвращает метаинформацию по ссылке.

6. Middleware и обработка ошибок

    Добавить middleware для логирования, CORS (если нужно), восстановления после паники.

    Обработка ошибок с валидацией ввода (например, валидность URL).

7. Swagger-документация

    Добавить комментарии к хендлерам для генерации Swagger через swaggo/swag.

    Настроить роут /swagger/index.html.

8. JWT (опционально)

    Если проект поддерживает авторизацию:

        Эндпоинт регистрации и логина.

        Связывание сокращённых ссылок с пользователем.

        Доступ к своим ссылкам через токен.

9. Тестирование

    Проверка ручками через Postman.

    Написание unit-тестов на основные функции: генерация, сохранение, редирект.

10. Деплой и запуск

    Возможность запуска через Docker (опционально).

    README с инструкциями.

    Открытие порта сервера и тест API.