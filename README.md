–ü—Ä–æ–µ–∫—Ç URL Shortener API

URL Shortener API ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞—â–∏—Ç—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ —á–µ—Ä–µ–∑ JWT –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É ¬´–ø—Ä–æ—Ç—É—Ö—à–∏—Ö¬ª —Å—Å—ã–ª–æ–∫.
üöÄ –ß—Ç–æ —É–º–µ–µ—Ç

    –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

        POST /register

        –¢–µ–ª–æ JSON:

    {
      "username": "myuser",
      "password": "mypassword"
    }

    –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–í—Ö–æ–¥ (Login)

    POST /login

    –¢–µ–ª–æ JSON:

{
  "username": "myuser",
  "password": "mypassword"
}

–í –æ—Ç–≤–µ—Ç–µ –≤–µ—Ä–Ω—ë—Ç JWT-—Ç–æ–∫–µ–Ω:

    { "token": "<JWT_TOKEN>" }

–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏

    POST /shortener

    –ó–∞–≥–æ–ª–æ–≤–æ–∫:

Authorization: Bearer <JWT_TOKEN>

–¢–µ–ª–æ JSON:

{
  "original_url": "https://example.com/very/long/path",
  "ttl_seconds": 3600
}

–í –æ—Ç–≤–µ—Ç–µ –≤–µ—Ä–Ω—ë—Ç –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥:

    { "short_code": "abc123XYZ" }

–°–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö —Å—Å—ã–ª–æ–∫

    GET /shortener

    –¢–æ—Ç –∂–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization

    –í–µ—Ä–Ω—ë—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤:

    [
      {
        "id": 1,
        "short_code": "abc123XYZ",
        "original_url": "https://example.com/very/long/path",
        "created_at": "2025-04-14T12:34:56Z",
        "ttl_second": 3600
      }
    ]

–†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É –∫–æ–¥—É

    GET /shortener/{code}

    –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –≤–∞—Å (HTTP 303) –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL.

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–±–µ

    GET /me

    –ó–∞–≥–æ–ª–æ–≤–æ–∫ Authorization

    –í–µ—Ä–Ω—ë—Ç –≤–∞—à user_id:

        { "user_id": 1 }

üõ† –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
1. –° –ø–æ–º–æ—â—å—é Docker Compose

    –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É:

git clone https://github.com/yourusername/URL-Shortener-API.git
cd URL-Shortener-API

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env —Ä—è–¥–æ–º —Å docker-compose.yml:

DB_HOST=url_shortener_db
DB_PORT=5432
DB_USER=user
DB_PASSWORD=password
DB_NAME=url_shortener
API_PORT=8080
JWT_SECRET=your-super-secret-key

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—ë –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

    docker-compose up --build

    –ì–æ—Ç–æ–≤–æ!

        –ë–î PostgreSQL –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ localhost:5432

        API —Å–ª—É—à–∞–µ—Ç http://localhost:8080

2. –õ–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ Docker

    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Go 1.18+ –∏ PostgreSQL

    –°–æ–∑–¥–∞–π—Ç–µ .env —Å —Ç–µ–º–∏ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

    go mod tidy
    go run cmd/main.go

    –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080

üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

    Go ‚Äî —è–∑—ã–∫

    gorilla/mux ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

    PostgreSQL ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

    robfig/cron ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

    bcrypt ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

    JWT ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

‚ú® –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å

    –í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

    Swagger‚Äë–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

    –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

    Rate limiting –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞

    Unit –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã